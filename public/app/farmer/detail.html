<style>
.fr-col1 {
  width: 30%;
}

.fr-col2 {
  width: 70%;
}

.table-hover tbody tr.hightlight:hover td{
  background-color: #c9d4e2;
}
</style>
<div class="container">
<div class="table-responsive" ng-init="ctrler.getDetail()">
  <table class="table table-striped table-bordered table-hover" style="width: 80%; margin: 0px auto 20px;">
    <tbody>
      <tr>
          <td class="fr-col1">姓名</td>
          <td class="fr-col2">{{::ctrler.farmer.name}}</td>
      </tr>
      
      <tr>
          <td class="fr-col1">身分證字號</td>
          <td class="fr-col2">{{::ctrler.farmer.pid}}</td>
      </tr>

      <tr>
          <td class="fr-col1">住家電話</td>
          <td class="fr-col2">{{::ctrler.farmer.teleNum1}}</td>
      </tr>
      
      <tr>
          <td class="fr-col1">行動電話</td>
          <td class="fr-col2">{{::ctrler.farmer.teleNum2}}</td>
      </tr>
      

      <tr>
          <td class="fr-col1">地址</td>
          <td class="fr-col2">{{::ctrler.farmer.addr}}</td>
      </tr>

      <!-- use collaspable ui to show detail -->
      <tr ng-repeat="account in ctrler.accounts track by account._id" ng-click="ctrler.openAccountDetail(account)" class="hightlight clickable">
          <td class="fr-col1">存摺{{::$index + 1}}編號</td>
          <td class="fr-col2">{{::account.accountID}}</td>
      </tr>
    </tbody>
    
  </table>

  <div class="form-group">
    <div class="col-md-8 col-md-offset-5">
      <button class="btn btn-primary" ng-click="ctrler.openCreateAccountModal()">開立存摺</button>
      <button class="btn btn-primary" ng-click="ctrler.addFarmerToCache()">加入暫存</button>
    </div>
  </div>
</div>

<!-- Modal templates -->
<!--開立存摺用對話框-->
<script type="text/ng-template" id="create-account.html">
<div class="modal-header">
    <h3 class="modal-title" id="modal-title">開立存摺表單</h3>
</div>
<div class="modal-body" id="modal-body">
    <!-- any click event within modal should add $event.preventDefault(); to prevent modal from dismiss -->
    <form class="form-horizontal">
      <div class="form-group">
        <label class="control-label col-md-4">存摺使用人</label>
        <div class="col-md-8">
          <input type="text" class="form-control" placeholder="請輸入姓名" ng-model="$ctrl.result.accountUser" ng-model-options="{ updateOn: 'blur' }">
        </div>
      </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-success" type="button" style="margin-right:10px;" ng-click="$ctrl.ok()">提交</button>
    <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">取消</button>
</div>
</script>

<!--觀看存摺細節對話框-->
<script type="text/ng-template" id="account-detail.html">
<div class="modal-header">
    <h3 class="modal-title" id="modal-title">存摺資訊</h3>
</div>
<div class="modal-body" id="modal-body">
    <!-- any click event within modal should add $event.preventDefault(); to prevent modal from dismiss -->
    <style>
    .fr-col1 {
      width: 30%;
    }

    .fr-col2 {
      width: 70%;
    }
    </style>
    <div class="table-responsive">
      <table class="table table-striped table-bordered" style="width: 100%; margin: 0px auto 20px;">
        <tbody>
          <tr>
              <td class="fr-col1">存摺編號</td>
              <td class="fr-col2">{{::$ctrl.account.accountID}}</td>
          </tr>
          
          <tr>
              <td class="fr-col1">擁有者</td>
              <td class="fr-col2">{{::$ctrl.account.farmer.name}}</td>
          </tr>

          <tr>
              <td class="fr-col1">使用者</td>
              <td class="fr-col2">{{::$ctrl.account.accountUser}}</td>
          </tr>

          <tr>
              <td class="fr-col1">開戶時間</td>
              <td class="fr-col2">{{::$ctrl.account.createdAt | date : 'yyyy/MM/dd'}}</td>
          </tr>

          <tr ng-hide="$ctrl.account.active">
              <td class="fr-col1">結清時間</td>
              <td class="fr-col2">{{::$ctrl.account.closedAt | date : 'yyyy/MM/dd'}}</td>
          </tr>

          <tr>
              <td class="fr-col1">餘額</td>
              <td class="fr-col2">{{::$ctrl.account.balance}}</td>
          </tr>
          
          <tr>
              <td class="fr-col1">是否結清</td>
              <td class="fr-col2">{{::$ctrl.account.active? '否':'是'}}</td>
          </tr>
          
        </tbody>
        
      </table>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">關閉</button>
</div>
</script>
</div> <!-- /div.container -->